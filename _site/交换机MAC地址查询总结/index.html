<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>交换机MAC地址查询总结 - My page - Walter White</title>
	<meta name="description" content="How to lookup switch's mac address">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
	<meta property="og:image" content="">
	<link rel="shortcut icon" href="/assets/img/favicon/favicon.ico" type="image/x-icon">
	<link rel="apple-touch-icon" href="/assets/img/favicon/apple-touch-icon.png">
	<link rel="apple-touch-icon" sizes="72x72" href="/assets/img/favicon/apple-touch-icon-72x72.png">
	<link rel="apple-touch-icon" sizes="114x114" href="/assets/img/favicon/apple-touch-icon-114x114.png">
	<!-- Chrome, Firefox OS and Opera -->
	<meta name="theme-color" content="#311e3e">
	<!-- Windows Phone -->
	<meta name="msapplication-navbutton-color" content="#311e3e">
	<!-- iOS Safari -->
	<meta name="apple-mobile-web-app-status-bar-style" content="#311e3e">
	<!-- Google Fonts -->
	<link href="https://fonts.googleapis.com/css?family=Montserrat:300,400,700" rel="stylesheet">
	<link href="https://fonts.googleapis.com/css?family=Lato:300,400,700" rel="stylesheet">
	<!-- Font Awesome -->
	<link rel="stylesheet" href="/assets/fonts/font-awesome/css/font-awesome.min.css">
	<!-- Styles -->
	<link rel="stylesheet" href="/assets/css/main.css">
</head>

<body>
  <div class="flex-container">
  <header class="main-header">
  <div class="wrapper">
    <div class="header-flex">
      <div class="menu-icon-container">
        <span class="menu-icon"><i class="fa fa-bars" aria-hidden="true"></i></span>
      </div>
      <nav class="main-nav">
        <span class="menu-icon-close"><i class="fa fa-times" aria-hidden="true"></i></span>
        <ul>
          <li><a href="/">Home</a></li>
          <li><a href="/blog/">Blog</a></li>
          <li><a href="/about">About</a></li>
        </ul>
      </nav>
      <p class="logo"><a href="/">Walter White</a></p>
      <div class="search-icon-container">
        <span class="search-icon"><a><i class="fa fa-search" aria-hidden="true"></i></a></span>
      </div>
    </div>
  </div>
</header> <!-- End Header -->

  <article class="article-page">
    <div class="page-image">
      <div class="cover-image" style="background: url(/assets/img/britishforest1.jpg) center no-repeat; background-size: cover;"></div>
    </div>
    <div class="wrapper">
      <div class="page-content">
        <div class="header-page">
          <h1 class="page-title">交换机MAC地址查询总结</h1>
          <div class="page-date"><time datetime="2019-08-02 19:17:20 +0800">2019, Aug 02</time></div>
        </div>
        <style type="text/css">
p{ line-height: 170% }
</style>

<blockquote>
  <h3 id="由于工作中经常需要查询设备mac以定位设备或解决问题因此总结一下mac查找办法">由于工作中经常需要查询设备mac，以定位设备或解决问题，因此总结一下mac查找办法。</h3>
</blockquote>

<p><br />
<br />
导航：</p>

<ol>
  <li><a href="#title1">huawei</a></li>
  <li><a href="#title2">h3c</a></li>
  <li><a href="#title3">cisco</a></li>
  <li><a href="#title4">通用</a></li>
</ol>

<p><span id="title1"></span></p>
<h3 id="一-huawei">一. huawei</h3>

<p>	<strong>1、查看系统MAC</strong></p>
<p>
	1）盒式交换机：</p>
<p>
	&lt;S5700&gt;<font style="color: #0000ff">display bridge mac-add </font><br />
	System bridge MAC address: xxxx-xxxx-xxxx</p>
<p>
	2）框式交换机：</p>
<p>
	&lt;S9303&gt;<font style="color: #0000ff">display system-mac </font><br />
	MAC-num&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; :1<br />
	Index&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; MAC Addr<br />
	----------------------------<br />
	default&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; xxxx-xxxx-xxxx<br />
	<br />
	current&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; xxxx-xxxx-xxxx</p>
<p>
	<strong>2、查看接口MAC</strong></p>
<p>
	&lt;S5700&gt;<font style="color: #0000ff">display interface GigabitEthernet0/0/10 </font><br />
	GigabitEthernet0/0/10 current state : UP<br />
	Line protocol current state : UP<br />
	Description:<br />
	Switch Port, Link-type : trunk(configured),<br />
	PVID :&nbsp;&nbsp;&nbsp; 1, TPID : 8100(Hex), The Maximum Frame Length is 1600<br />
	IP Sending Frames&#39; Format is PKTFMT_ETHNT_2, <font style="color: #0000ff">Hardware address is xxxx-xxxx-xxxx </font><br />
	Current system time: 2015-03-02 10:50:43+08:00<br />
	Port Mode: COMMON COPPER<br />
	Speed : 1000,&nbsp;&nbsp; Loopback: INTERNAL<br />
	Duplex: FULL,&nbsp;&nbsp; Negotiation: DISABLE<br />
	Mdi&nbsp;&nbsp; : AUTO,&nbsp;&nbsp; Flow-control: DISABLE<br />
	Last 300 seconds input rate 480 bits/sec, 0 packets/sec<br />
	Last 300 seconds output rate 480 bits/sec, 0 packets/sec<br />
	Input peak rate 13880 bits/sec, Record time: 2015-02-19 17:09:47<br />
	Output peak rate 13880 bits/sec, Record time: 2015-02-19 17:09:47<br />
	Input:&nbsp; 510225 packets, 80014227 bytes<br />
	&nbsp; Unicast:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0,&nbsp; Multicast:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 510225<br />
	&nbsp; Broadcast:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0,&nbsp; Jumbo:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0<br />
	&nbsp; Discard:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0,&nbsp; Pause:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0<br />
	&nbsp; Frames:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0<br />
	<br />
	&nbsp; Total Error:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0<br />
	&nbsp; CRC:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0,&nbsp; Giants:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0<br />
	&nbsp; Jabbers:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0,&nbsp; Fragments:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0<br />
	&nbsp; Runts:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0,&nbsp; DropEvents:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0<br />
	&nbsp; ---- More ----</p>
<p>
	<strong>3、查看设备学习到的mac表项</strong></p>
<p>
	1）查看整机所有类型mac地址表项：</p>
<p>
	&lt;S5700&gt;<font style="color: #0000ff">display mac-address&nbsp;</font></p>
<p>
	2）查看某端口下mac地址表项：</p>
<p>
	&lt;S5700&gt;<font style="color: #0000ff">display mac-address GigabitEthernet 0/0/X</font></p>
<p>
	3）查看系统所有动态MAC地址表项：</p>
<p>
	&lt;S5700&gt;<font style="color: #0000ff">display mac-address dynamic </font></p>
<p>
	此处dynamic可以替换为blackhole、static、security、sticky、summary分别查看黑洞MAC、静态MAC、安全动态MAC、sticky MAC、MAC表项汇总信息。</p>
<p>
	由于内容较多，此处不再赘述；</p>
<p>
	欲了解更多MAC相关命令，请下载产品文档，在如下路径获取更多信息：参考&mdash;&mdash;以太网交换命令&mdash;&mdash;MAC表配置命令。</p>

<p><span id="title2"></span></p>
<h3 id="二-h3c">二. h3c</h3>

<p><strong>1.查看系统mac</strong></p>

<p>&lt;h3c&gt;<font style="color: #0000ff">dis device manuinfo</font></p>

<p><strong>2.查看接口mac</strong></p>

<p>&lt;h3c&gt;<font style="color: #0000ff">dis int vlanif 2</font></p>

<blockquote>
  <p>用Wireshark抓包，当数据包跨网段时，source mac时常就是interface vlanif的地址(网关地址)</p>
</blockquote>

<p><span id="title3"></span></p>
<h3 id="三-cisco">三. cisco</h3>

<p>1.待补充</p>

<p><span id="title4"></span></p>
<h3 id="四通用">四.通用</h3>

<p>  ！！！注意：当一台设备未通过802.1x认证，其mac无法显示在<code class="highlighter-rouge">dis mac-address</code>中，除非配置了guest-vlan，其显示在vlan 800中(待验证)</p>


        <div class="page-footer">
          <div class="page-tag">
            <span>Tags:</span>
            
            <a href="/tags#Blog" class="tag">| Blog</a>
            
            <a href="/tags#switch" class="tag">| switch</a>
            
            <a href="/tags#huawei" class="tag">| huawei</a>
            
            <a href="/tags#h3c" class="tag">| h3c</a>
            
            <a href="/tags#cisco" class="tag">| cisco</a>
            
          </div><!-- End Tags -->
          <div class="page-share">
            <span>Share:</span>
            <a href="https://twitter.com/intent/tweet?text=交换机MAC地址查询总结&url=http://localhost:4000/%E4%BA%A4%E6%8D%A2%E6%9C%BAMAC%E5%9C%B0%E5%9D%80%E6%9F%A5%E8%AF%A2%E6%80%BB%E7%BB%93/" title="Share on Twitter" rel="nofollow" target="_blank"><i class="fa fa-twitter" aria-hidden="true"></i></a>
            <a href="https://facebook.com/sharer.php?u=http://localhost:4000/%E4%BA%A4%E6%8D%A2%E6%9C%BAMAC%E5%9C%B0%E5%9D%80%E6%9F%A5%E8%AF%A2%E6%80%BB%E7%BB%93/" title="Share on Facebook" rel="nofollow" target="_blank"><i class="fa fa-facebook" aria-hidden="true"></i></a>
            <a href="https://plus.google.com/share?url=http://localhost:4000/%E4%BA%A4%E6%8D%A2%E6%9C%BAMAC%E5%9C%B0%E5%9D%80%E6%9F%A5%E8%AF%A2%E6%80%BB%E7%BB%93/" title="Share on Google+" rel="nofollow" target="_blank"><i class="fa fa-google" aria-hidden="true"></i></a>
          </div><!-- End Share -->
        </div>
        <section class="author-box">
  <img src="/assets/img/heroes-Peter.jpg" alt="Walter White" class="author-img">
  <div class="author-desc">
    <h2>Walter White</h2>
    <p>My name is Walter White. I’m an operations enginner(ops) who always wants to be a software enginner.I'm still trying!</p>
    <ul>
      
        <li class="email"><a href="mailto:example.adam@blog.com"><i class="fa fa-envelope-o" aria-hidden="true"></i></a></li>
      
      
        <li class="phone"><a href="tel:044 825 5523"><i class="fa fa-phone" aria-hidden="true"></i></a></li>
      
      
        <li class="website"><a href="https://artemsheludko.github.io" target="_blank"><i class="fa fa-globe" aria-hidden="true"></i></a></li>
      
      
        <li class="twitter"><a href="https://twitter.com/artemsheludko_" target="_blank"><i class="fa fa-twitter" aria-hidden="true"></i></a></li>
      
    </ul>
  </div>
</section>

        <div class="recent-box">
  <h2 class="recent-title">Recent post</h2>
  <div class="recent-list">
    
      
        <a href="/%E4%BA%A4%E6%8D%A2%E6%9C%BAMAC%E5%9C%B0%E5%9D%80%E6%9F%A5%E8%AF%A2%E6%80%BB%E7%BB%93/" class="recent-item" style="background: url(/assets/img/britishforest1.jpg) center no-repeat; background-size: cover;"><span>交换机MAC地址查询总结</span></a>
      
    
      
        <a href="/Linux-bash-vim-code%E4%B8%AA%E4%BA%BA%E4%BD%BF%E7%94%A8%E6%8A%80%E5%B7%A7%E6%80%BB%E7%BB%93/" class="recent-item" style="background: url(/assets/img/wordcloud.jpg) center no-repeat; background-size: cover;"><span>Linux bash vim code 个人使用技巧总结</span></a>
      
    
      
        <a href="/my-first-blog/" class="recent-item" style="background: url(/assets/img/sun_behind_the_mountain.jpg) center no-repeat; background-size: cover;"><span>My first blog</span></a>
      
    
      
        <a href="/lalala/" class="recent-item" style="background: url(/assets/img/post-6.jpg) center no-repeat; background-size: cover;"><span>lalala</span></a>
      
    
  </div>
</div> <!-- End Recent-Box -->

         
        <section class="comment-area">
  <div class="comment-wrapper">
    
    <div id="disqus_thread" class="article-comments"></div>
    <script>
      (function() {
          var d = document, s = d.createElement('script');
          s.src = '//j16949.disqus.com/embed.js';
          s.setAttribute('data-timestamp', +new Date());
          (d.head || d.body).appendChild(s);
      })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    
  </div>
</section> <!-- End Comment Area -->

      </div>
    </div> <!-- End Wrapper -->
  </article>
  <div class="search-box">
  <div class="wrapper">
    <div class="search-grid">
      <form class="search-form">
        <div id="search-container">
          <input type="text" id="search-input" class="search" placeholder="Search">
        </div>
      </form>
      <ul id="results-container" class="results-search"></ul>
      <div class="icon-close-container">
        <span class="search-icon-close"><i class="fa fa-times" aria-hidden="true"></i></span>
      </div>
    </div>
  </div>
</div>

  <footer class="main-footer">
  <div class="copyright">
  	<p>
  		2019 &copy; Walter White    
  		
  		<a class="github" href="http://github.com/j16949" target="_blank"><i class="fa fa-github"></i></a>
  		
  	</p>
  </div>
</footer> <!-- End Footer -->

</div>

  <!-- JS -->
<script src="/assets/js/jquery-3.2.1.min.js"></script>
<script src="/assets/js/jekyll-search.js"></script>
<script>
  SimpleJekyllSearch({
    searchInput: document.getElementById('search-input'),
    resultsContainer: document.getElementById('results-container'),
    json: '/search.json',
    searchResultTemplate: '<li><a href="{url}" title="{desc}">{title}</a></li>',
    noResultsText: 'No results found',
    fuzzy: false,
    exclude: ['Welcome']
  });
</script>
<script src="/assets/js/main.js"></script>

  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  ga('create', '', 'auto');
  ga('send', 'pageview');
</script> <!-- End Analytics -->

</body>
</html>
